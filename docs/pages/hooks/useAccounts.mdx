---
title: "useAccounts"
date: "2024-07-09"
authors:
  - name: "Dan Ostrovsky"
---

# useAccounts

Hook for getting the accounts of the currently connected user, returns:

- `getAccounts` - function to trigger get accounts from storage
- `accounts` - `undefined{:js}` for not connected user or `Accounts` of connected user
- `accountsError` - will include error if `getAccounts` was called for not connected user or if
  selected `IdentityKitAuthType.DELEGATION{:js}` auth type

## Import

```typescript
import { useAccounts, useIdentityKit } from "@nfid/identitykit/react"
```

## Usage

```jsx
const { accounts, accountsError, getAccounts } = useAccounts()
const { connectedAccount } = useIdentityKit()

useEffect(() => {
  if (connectedAccount) getAccounts()
}, [connectedAccount, getAccounts])
```

## Types

```typescript
type Accounts =
  | {
      owner: Principal
      subaccount: ArrayBuffer | undefined
    }[]
  | undefined
```
