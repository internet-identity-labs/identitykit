---
title: "useAgent"
date: "2024-07-09"
authors:
  - name: "Dan Ostrovsky"
---

import { Callout } from "nextra/components"

# useAgent

Hook to get identityKitAgent, which manages when to show approval pop-ups to make canister calls or
not, it uses built-in signerAgent to show pop-ups and dfinity HttpAgent with identity from
`identitykit` otherwise.

## Return values

`Agent|undefined{:typescript}`

<Callout type="info" emoji="ℹ️">
  Retrieved agent will be undefined until user is connected and agent is created under the hood
</Callout>

## Usage

```typescript
import { useAgent } from "@nfid/identitykit/react"
const agent = useAgent()
```

Or with your custom options:

```typescript
import { useAgent } from "@nfid/identitykit/react"
const agent = useAgent({ retryTimes: 1 })
```

<Callout type="warning" emoji="⚠️">
  By default global ic network will be used, to change it as well as other agent settings provide
  options to hook
</Callout>

> [Read more about agents usage](../guides/executing-canister-calls#note-on-ux).
