---
title: "useTargetAuthenticatedAgent"
date: "2024-07-09"
authors:
  - name: "Dan Ostrovsky"
---

import { Callout } from "nextra/components"

# useTargetAuthenticatedAgent

Agent for one of your application's target canisters, uses `identitykit` agent when authType is
[IdentityKitAuthType.ACCOUNTS](../miscellaneous/auth-options#accounts), otherwise dfinity HttpAgent
with identity from `identitykit`.

## Parameters

```typescript
type Parameters = {
  // optional create agent function to use custom agent if authType is IdentityKitAuthType.DELEGATION
  // using this param requires providing identity from useIdentityKit() to agent on your own
  createAgent?: (() => Agent) | (() => Promise<Agent>)
  // optional create agent options to use our agents, but to change for example host
  // identity will be predefined
  createAgentOptions?: Omit<Parameters<typeof HttpAgent.create>[0], "identity">
}
```

<Callout type="warning" emoji="⚠️">
  By default global ic network will be used
</Callout>

## Usage

```typescript
import { useTargetAuthenticatedAgent } from "@nfid/identitykit/react"
const targetAuthenticatedAgent = useTargetAuthenticatedActor()
```

<Callout type="info" emoji="ℹ️">
  Agent will be undefined until identitykit creates agent under the hood
</Callout>

> [Read more about agents usage](../guides/executing-canister-calls#note-on-ux).
